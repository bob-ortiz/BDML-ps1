browseURL(url)
tablas <- html %>%
html_elements("table") %>%
html_table()
tablas <- html %>%
html_elements("table") %>%
html_table()
rm(list = ls())
install.packages("kableExtra") ## puedo usar este paquete para hacer tablas lindas, el enlace con el tutorial esta en week-04.R de la complementaria del 1ro de septiembre.
library(pacman)
library(rvest, tidyverse, kableExtra)
library(kableExtra)
library(rvest, tidyverse)
library(pacman,
kableExtra,
rvest,
tidyverse)
rm(list = ls())
rm(list = ls())
# Package names
packages <- c("pacman", "rvest", "dplyr", "tidyr", "caret", "kableExtra", "tidyverse")
# Install packages not yet installed
installed.packages <- packages %in% rownames(installed.packages())
if (any(installed.packages()== FALSE)){
install.packages(packages[!installed.packages])
}
rm(list = ls())
# Package names
install.packages("pacman")
packages <- c("pacman", "rvest", "dplyr", "tidyr", "caret", "kableExtra", "tidyverse")
# Install packages not yet installed
installed.packages <- packages %in% rownames(installed.packages())
if (any(installed.packages()== FALSE)){
install.packages(packages[!installed.packages])
}
rm(list = ls())
# Package names
install.packages("pacman")
pacman::p_load(rvest, dplyr, tidy, caret, kableExtra, tidyverse)
install.packages("pacman")
# Scrape the data
url_test <- paste0("https://ignaciomsarmiento.github.io/GEIH2018_sample/pages/geih_page_", 1:10, ".html")
geih <- data.frame()
for (url in url_test) {
print(url)
source_table <- read_html(url) %>%
html_table()
temp <- as.data.frame(source_table)
print(nrow(temp))
geih <- rbind(geih, temp)
}
rm(list = ls())
# Install Pacman
install.packages("pacman")
# Load all required packages
pacman::p_load(rvest, dplyr, tidy, caret, kableExtra, tidyverse)
# Scrape the data
url_test <- paste0("https://ignaciomsarmiento.github.io/GEIH2018_sample/pages/geih_page_", 1:10, ".html")
geih <- data.frame()
for (url in url_test) {
print(url)
source_table <- read_html(url) %>%
html_table()
temp <- as.data.frame(source_table)
print(nrow(temp))
geih <- rbind(geih, temp)
}
head(geih)
# Install Groundhog to ensure replicability
install.packages("groundhog")
library(groundhog)
library(groundhog)
# Choose a date for replicability
groundhog.day="2022-08-31"
rm(list = ls())
library(groundhog)
# Choose a date for replicability
groundhog.day="2022-08-31"
# Load all required packages
pkgs=c("rvest", "dplyr", "tidy", "caret", "kableExtra", "tidyverse")
groundhog.library(pkg = pkgs, groundhog.day)
# Load all required packages
pkgs=c("rvest", "dplyr", "tidy", "caret", "kableExtra", "tidyverse")
groundhog.library(pkg = pkgs, "2022-08-31")
.libPaths()
length(.libPaths())
rm(list = ls())
# Install Groundhog to ensure replicability
install.packages("groundhog")
library(groundhog)
# Load all required packages
pkgs=c("rvest", "dplyr", "tidy", "caret", "kableExtra", "tidyverse")
groundhog.library(pkg = pkgs, "2022-08-31")
rm(list = ls())
rm(list = ls())
# Install Groundhog to ensure replicability
install.packages("groundhog")
library(groundhog)
# Load all required packages
pkgs=c("rvest", "dplyr", "tidy", "caret", "kableExtra", "tidyverse")
groundhog.library(pkg = pkgs, "2022-08-31")
# Install Groundhog to ensure replicability
install.packages("groundhog")
rm(list = ls())
# Install Groundhog to ensure replicability
install.packages("groundhog")
library(groundhog)
# Load all required packages
pkgs=c("rvest", "dplyr", "tidy", "caret", "kableExtra", "tidyverse")
groundhog.library(pkg = pkgs, "2022-08-31")
install.packages("groundhog")
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
load("/Users/upar/Downloads/geih_full.csv")
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
geih <- read.csv("/Users/upar/Downloads/geih_full.csv")
skimr::skim(geih)
View(geih)
View(geih)
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
geih <- read.csv2("/Users/upar/Downloads/geih_full.csv")
skimr::skim(geih)
?read_csv2
??read_csv2
# Install Groundhog to ensure replicability
install.packages("groundhog")
library(groundhog)
# Load all required packages
pkgs=c("rvest", "dplyr", "tidy", "caret", "kableExtra", "tidyverse")
groundhog.library(pkg = pkgs, "2022-08-31")
groundhog.library(pkg = pkgs, "2022-08-31")
library(groundhog)
pkgs=c("rvest", "dplyr", "tidy", "caret", "kableExtra", "tidyverse")
groundhog.library(pkg = pkgs, "2022-08-31")
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
geih <- read.csv("/Users/upar/Downloads/geih_full.csv")
skimr::skim(geih)
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
geih <- read.csv2("/Users/upar/Downloads/geih_full.csv")
skimr::skim(geih)
# Scrape the data
url_test <- paste0("https://ignaciomsarmiento.github.io/GEIH2018_sample/pages/geih_page_", 1:10, ".html")
url_test
geih <- data.frame()
for (url in url_test) {
print(url)
source_table <- read_html(url) %>%
html_table()
temp <- as.data.frame(source_table)
print(nrow(temp))
geih <- rbind(geih, temp)
}
# Set working directory
setwd("~/Downloads") #GUSTAVO
class(geih)
typeof(geih)
dim(geih)
summary(geih)
summary(age)
sd(age)
summary(geih$age)
?select()
?corr
cor.test(geih$iof1, geih$cclasnr6, method = "pearson")
?typeof()
?class()
class(geih$iof1)
summary(geih$iof1)
classs(geih$cclasnr6)
class(geih$cclasnr6)
summary(geih$cclasnr6)
head(geih$iof1, geih$cclasnr6)
head(geih$[iof1,geih$cclasnr6])
head(geih$iof1)
tail(geih$iof1)
class(geih)
is.na(geih$iof1)
str(geih$iof1)
summary(geih$cclasnr6)
str(geih$ingtot)
summarise(geih$ingtot)
summary(geih$ingtot)
?ggplot
write.csv(geih, file = "encuesta.csv")
summary(geih$dsi)
summary(geih$ocu)
geih %>%
select(ingtotob, age, p6210, dsi, maxEducLevel)
geih<- geih %>%
select(ingtotob, age, p6210, dsi, maxEducLevel)
??read.csv
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
?filter()
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
?dplyr::filter()
??read.csv
??read_csv
??rio
??readr
??reader
??read_csv
#read
geih <- read.csv("/Users/upar/Downloads/encuesta.csv")
summary(geih$dsi)
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
dplyr::filter(.data = geih, age>=18, dci=0)
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
dplyr::filter(.data = geih, age>=18, dci==0)
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
dplyr::filter(.data = geih, age>=18, dsi==0)
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
dplyr::filter(.data = geih, age>=18)
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
df2<- dplyr::filter(.data = geih, age>=18)
df3 <-dplyr::filter(.data = geih, dsi==0)
class(geih$age)
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
df2 <- dplyr::filter(.data = geih, age>"18")
summary(df2$age)
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
dplyr::filter(.data = geih, age>"18") %>%
summary(age)
class(dplyr::filter(.data = geih, age>"18"))
summary((dplyr::filter(.data = geih, age>"18")$age))
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
summary((dplyr::filter(.data = geih, age>"18")$age))
summary((dplyr::filter(.data = geih, age>18)$age))
summary((dplyr::filter(.data = geih, age>=18)$age))
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
summary((dplyr::filter(.data = geih, age>"18")$age))
summary(geih2018 %>% filter(age > "18")$age)
summary((geih2018 %>% filter(age > "18"))$age)
summary((geih %>% filter(age > "18"))$age)
sapply
?sapply
describe((geih %>% filter(age > "18"))$age)
summary((geih %>% filter(age > "18"))$age)
min((geih %>% filter(age > "18"))$age)
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
min((dplyr::filter(.data = geih, age>"18")$age))
min((dplyr::filter(.data = geih, age>=18)$age))
rm(df2_2)
rm(df2_2 = ())
rm(df2 = ())
rm(df2)
rm(df3)
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
min((dplyr::filter(.data = geih, age>=18)$age))
min((dplyr::filter(.data = geih, age>"18")$age))
# Mantener observaciones de personas empleadas (dsi==0)
summary(geih %>% filter(dsi != "0"))
# Mantener observaciones de personas empleadas (dsi==0)
summary(geih %>% filter(dsi != "0")$dsi)
# Mantener observaciones de personas empleadas (dsi==0)
summary((geih %>% filter(dsi != "0"))$dsi)
# Limpieza de datos
## Mantener observaciones de personas mayores de 18
min((dplyr::filter(.data = geih, age>=18)$age))
df1 <- dplyr::filter(.data = geih, age>=18)
df2 <- dplyr::filter(.data = geih, dsi==0)
summary(df2$dsi)
# Limpiar
df <- geih %>% filter(age>=18, dsi==0)
class(geih$age)
class(geih$dsi)
# Set working directory
setwd("/Users/upar/Dropbox/00-SCHOOL/0-University/0-Semesters/2022-20/6-Big_Data_and_ML_for_Applied_Economics/2-Evaluaciones/Problem_Sets/Problem_Set-1/results") #GUSTAVO
skimr::skim(geih)
library(rio)
library("rio")
,
,
?import
View(df)
View(df)
dim(f)
dim(df)
df <- df %>% select(ingtotob, age, p6210, dsi, maxEducLevel,estrato1)
# An√°lisis descriptivo
## Y
class(df$ingtotob)
## X
x <- c(age, p6210, dsi, maxEducLevel,estrato1)
summary(df%dsi)
summary(df$dsi)
## X
class(df$age, df$p6210, df$dsi, df$maxEducLevel, df$estrato1)
# Load all required packages
pkgs=c("rvest", "dplyr", "caret", "kableExtra", "tidyverse", "stargazer")
groundhog.library(pkg = pkgs, "2022-08-31")
# Load all required packages
pkgs=c("rvest", "dplyr", "caret", "kableExtra", "tidyverse", "stargazer")
groundhog.library(pkg = pkgs, "2022-08-31")
library(groundhog)
groundhog.library(pkg = pkgs, "2022-08-31")
library(groundhog)
# Load all required packages
pkgs=c("rvest", "dplyr", "caret", "kableExtra", "tidyverse", "stargazer")
groundhog.library(pkg = pkgs, "2022-08-31")
plot(hist(df$ingtotob))
tabulate(df$p6210)
tabulate(geih$p6210)
table(df$p6210)
library(knitr)
library(kableExtra)
kable(iris)
tab <- kable(head(iris, 5), booktabs = T)
tab
kable(head(iris, 5), booktabs = T) %>%
kable_styling("striped")
kable(head(iris, 5), booktabs = F) %>%
kable_styling("striped")
kable(head(iris, 5), booktabs = F) %>%
kable_styling("striped")
plot(hist(df$ingtotob))
kable(df$ingtotob)
mpg
ggplot(data = df) +
geom_point(mapping = aes(x = ingtotob, y = age))
ggplot(data = df) +
geom_point(mapping = aes(x = ingtotob, y = age)) +
geom_smooth(mapping = aes(x = ingtotob, y = age))
dim(mpg)
ggplot(df) + geom_point(mapping = aes(x=hwy, y=cyl))
ggplot(mpg) + geom_point(mapping = aes(x=hwy, y=cyl))
ggplot(mpg) + geom_point(mapping = aes(x=displ, y=hwy))
ggplot(mpg) + geom_point(mapping = aes(x=class, y=drv))
ggplot(data = df) +
geom_point(mapping = aes(x = ingtotob, y = age)) +
geom_smooth(mapping = aes(x = ingtotob, y = maxEduclevel))
ggplot(data = df) +
geom_point(mapping = aes(x = ingtotob, y = maxEducLevel)) +
geom_smooth(mapping = aes(x = ingtotob, y = maxEducLevel))
ggplot(data = df) +
geom_point(mapping = aes(x = ingtotob, y = maxEducLevel))
kable(df$ingtotob)
ggplot(df)+
geom_boxplot(aes(as.factor(maxEducLevel), ingtotob))
ggplot(data = df) +
geom_point(mapping = aes(x = ingtotob, y = age, color = maxEducLevel))
ggplot(data = df) +
geom_point(mapping = aes(x = ingtotob, y = age, color = as.factor(maxEducLevel)))
ggplot(data = df) +
geom_point(mapping = aes(x = age, y = ingtotob, color = as.factor(maxEducLevel)))
geom_smooth(mapping = aes(x = age, y = ingtotob))
ggplot(data = df) +
geom_point(mapping = aes(x = age, y = ingtotob, color = as.factor(maxEducLevel))) +
geom_smooth(mapping = aes(x = age, y = ingtotob))
ggplot(data = df) +
geom_point(mapping = aes(x = age, y = ingtotob, alpja = as.factor(maxEducLevel))) +
geom_smooth(mapping = aes(x = age, y = ingtotob))
ggplot(data = df) +
geom_point(mapping = aes(x = age, y = ingtotob, alpha = as.factor(maxEducLevel))) +
geom_smooth(mapping = aes(x = age, y = ingtotob))
ggplot(data = df) +
geom_point(mapping = aes(x = age, y = ingtotob, alpha = (maxEducLevel))) +
geom_smooth(mapping = aes(x = age, y = ingtotob))
ggplot(mpg)+geom_point(aes(x=displ, y=hwy, color="blue"))
ggplot(mpg)+geom_point(aes(x=displ, y=hwy, color=blue))
ggplot(mpg)+geom_point(aes(x=displ, y=hwy), color=blue))
ggplot(mpg)+geom_point(aes(x=displ, y=hwy), color="blue"))
ggplot(mpg)+geom_point(aes(x=displ, y=hwy), color="blue")
ggplot(data = df) +
geom_point(aes(x=age, y=ingtotob)) +
facet_wrap(~as.factor(maxEducLevel))
ggplot(data = df) +
geom_smooth(aes(x=age, y=ingtotob)) +
facet_wrap(~as.factor(maxEducLevel))
ggplot(data = df) +
geom_smooth(aes(x=age, y=ingtotob, linetype = as.factor(maxEducLevel)))
ggplot(data = df) +
geom_smooth(mapping = aes(x=age, y=ingtotob, linetype = as.factor(maxEducLevel)))
table(df$maxEducLevel)
?poly
poly(df$age, 2)
?lm
model2 <- lm(df$ingtotob~age)
model2 <- lm(df$ingtotob~$dfage)
model2 <- lm(df$ingtotob~df$age)
age2 <- (df$age)^2
model2_2 <- lm(df$ingtotob~df$age+age2)
stargazer(model1, model2, type="text")
stargazer(model2, model2_2, type="text")
model2 <- lm(df$ingtotob~df$age+(df$age)^2)
age2 <- (df$age)^2
model2_2 <- lm(df$ingtotob~df$age+age2)
stargazer(model2, model2_2, type="text")
stargazer(model2_2)
stargazer(model2_2, type="text")
stargazer(model2, type="text")
age2 <- (df$age)^2
model2 <- lm(df$ingtotob~df$age+age2)
stargazer(model2_2, type="text")
stargazer(model2_2, type="word")
stargazer(model2_2, type="latex")
stargazer(model2_2, type="text")
kable(stargazer(model2_2, type="text"))
kable(stargazer(model2_2, type="text"), booktabs = T)
## Collecting the Data
```{r eval=FALSE}
## Collecting the Data
```{r eval=FALSE}
sqrt(2)
2^2
x <- c(1,2,3,4)
x^2
head(df$age))
head(df$age)
head((df$age)^2)
df$age2 <- ((df$age)^2)
age2 <- ((df$age)^2)
model2 <- lm(df$ingtotob~df$age+age2)
stargazer(model2, type="text")
stargazer(model2)
model3 <- lm(geih$ingtot~df$age+age2)
model3 <- lm(geih$ingtot~geih$age+age2) %>% filter(age>=18, dsi==0)
model3 <- filter(age>=18, dsi==0) %>%
lm(geih$ingtot~geih$age+age2)
model3 <- filter(geih$age>=18, geih$dsi==0) %>%
lm(geih$ingtot~geih$age+age2)
model3 <- geih %>%
filter(geih$age>=18, geih$dsi==0) %>%
lm(geih$ingtot~geih$age+age2)
model3 <- geih %>% filter(geih$age>=18, geih$dsi==0) %>%
lm(ingtot~age+age2)
model3 <- lm(ingtot~age+age2) %>%
geih %>% filter(geih$age>=18, geih$dsi==0)
model3 <- lm(ingtot~age+age2) %>% filter(geih$age>=18, geih$dsi==0)
model3 <- geih %>% filter(age>=18, dsi==0) %>%
lm($ingtot~age+age2)
model3 <- geih %>% filter(age>=18, dsi==0) %>%
lm(ingtot~age+age2)
shortgeih <- geih %>% filter(age>=18, dsi==0)
model3 <- lm(shortgeih$ingtot~shortgeih$age+age2)
stargazer(model2, model3)
stargazer(model2, model3, text = "text")
?stargazer
stargazer(model2, model3, style = "text")
stargazer(model2, model3, type = "text")
df <- df %>% select(ingtotob, age, p6210, dsi, maxEducLevel,estrato1, sex)
## Limpiar
df <- geih %>% filter(age>=18, dsi==0)
df <- df %>% select(ingtotob, age, p6210, dsi, maxEducLevel,estrato1, sex)
head(df$age^2)
head(df$age)
?mutate_at
mutate(df, log(ingtotob))
head(mutate(df, log(ingtotob)))
head(df$ingtotob)
log(1840833)
df $>$ mutate(age_sqr = age*age)
df $>$ mutate(age_sqr = age * age)
df $>$
## Limpiar
df <- geih %>%
filter(age>=18, dsi==0) %>%
select(ingtotob, age, p6210, dsi, maxEducLevel,estrato1, sex)
df $>$
df %>%
mutate(age_sqr = age * age)
df <- df %>%
mutate(age_sqr = age * age)
model2 <- lm(df$ingtotob~df$age+age_sqr)
model2 <- df %>% lm(ingtotob~age+age_sqr)
model2 <- df %>%
lm(ingtotob~age+age_sqr)
model2 <- lm(df,ingtotob~age+age_sqr)
model2 <- lm(df$ingtotob~df$age+df$age_sqr)
head(mutate(df, ))
class(df %>% mutate(age2 = age*age))
(df %>% mutate(age2 = age*age))$age2
model3 <- lm(shortgeih$ingtot~shortgeih$age+(shortgeih %>% mutate(age2 = age*age))$age2)
stargazer(model2, model3, type = "text")
head((df %>% mutate(female=ifelse(df$sex=0, 1, 0)) ))$female)
df %>% mutate(female=ifelse(df$sex=0, 1, 0)
df %>% mutate(ifelse(df$sex=0, 1, 0)
df %>% mutate(ifelse(df$sex==0, 1, 0)
df$female <- ifelse(df$sex==0, 1, 0)
test <- female+sex
test <- df$female+df$sex
summary(test)
skimr(test)
skim(test)
?skim
skim(df$test)
lenghth(test)
length(test)
rm(test)
skimr::skim(sex)
skimr::skim(df$sex)
skimr::skim(df$female)
head((df %>% mutate(female=ifelse(df$sex=0, 1, 0)) ))$female)
df$female <- ifelse(df$sex==0, 1, 0)
df <- df %>%
mutate(l_y=log(ingtotob))
